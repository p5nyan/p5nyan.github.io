<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>レッスン 10</title>
    <link rel="stylesheet" href="lesson.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="./gist-embed.min.js"></script>
  </head>

  <body>
    <header>
      <h1>レッスン 10</h1>
      <p>〜 オブジェクト 〜</p>
    </header>

    <nav class="back">
      <a href="../index.html">🔙</a>
      <a href="#">🔝</a>
    </nav>

    <main>
      <h2>サンプルコード</h2>

      <ul>
        <li>
          サポートサイトでは、<mark>async function draw() { ... }</mark>
          の中のコードは省略せずにすべて<ruby>載<rt>の</rt></ruby
          >せています。
        </li>
        <li>
          本に載っていない部分には<span class="gray">灰色の背景色</span
          >を付けています。
        </li>
        <li>
          先頭2行のおまじないと
          <mark>function setup() { ... }</mark>
          は省略しますが、みなさんのコードからは消さないでください。
        </li>
        <li>
          ここに載せているサンプルコードには、コードが読み取りやすいように「空行」を追加しています。
        </li>
        <li>
          キャプション横の
          <span class="p5link">p5.js</span>
          をクリックするとp5.jsのウェブエディターが開き、プログラムを実行することができます。
        </li>
      </ul>

      <nav class="codeNav">
        <select id="codeSelect">
          <option value="init" selected disabled>サンプルコードを選ぶ</option>
        </select>
        <label for="codeSelect">▼</label>
      </nav>

      <h3>10.1 オブジェクトの基本</h3>

      <h4 class="caption">
        <span>p.184</span>
        コード10.1 配列の各要素の意味がわからない
        <a
          href="https://editor.p5js.org/p5nyan/sketches/lA3W96RNx"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="3d4f5a5e1c6103ce2fdd5469cecc6241"
        data-gist-highlight-line="1-3, 7"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.185</span>
        図10.3 ［構文］ オブジェクトの宣言
        <a
          href="https://editor.p5js.org/p5nyan/sketches/tpOtWfZzx"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <p>
        <mark>function setup() { ... }</mark
        >の中も変更があります。「normal」というプロパティ名にはp5.jsのウェブエディターでは色が付くかもしれません（プログラムの実行には問題ありません）。
      </p>
      <code
        data-gist-id="b462a9c822f9ce818701a2efb80e50bc"
        data-gist-highlight-line="1-9, 23-27"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.186</span>
          コード10.2 プロパティの値の読み出し、<wbr />コード10.3
          プロパティの値を上書きする
          <a
            href="https://editor.p5js.org/p5nyan/sketches/KLM3lxaKr"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <code
        data-gist-id="2e90f6c2ba1a09b65ffbc57f5f1218e9"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.187-188</span>
        本文のコード
        <a
          href="https://editor.p5js.org/p5nyan/sketches/iRjmV1W0j"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="0a5398136f1540ccd495c77264a8efec"
        data-gist-highlight-line="1-16, 22-25, 29-32, 36"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.187</span>
        図10.7 ［構文］ プロパティの追加と削除
        <a
          href="https://editor.p5js.org/p5nyan/sketches/mdl9A6fyT"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="538408e7056d2492b74d2ae851688b34"
        data-gist-highlight-line="1-3, 5-7, 10-12, 15-16"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.188-189</span>
          コード10.5
          ピゴニャンが食べた魚の情報をオブジェクトとして受け取る、<wbr />戻り値がオブジェクトであるか確認してからプロパティにアクセスする
          <a
            href="https://editor.p5js.org/p5nyan/sketches/kH6jWXSms"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <p>
        コード10.6の最初の1行はエラーにならないように変数宣言から単なる代入に変更しています。
        また、最後の条件分岐にelse文を追加しています。13行目をコメントアウトして動作確認してみてください。
      </p>
      <code
        data-gist-id="9f8b939613465c2f84d1d03a5224ca0a"
        data-gist-highlight-line="9-11, 19-21"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.189</span>
          コード10.7
          プロパティ名をそのまま使用してプロパティにアクセスする、<wbr />コード10.8
          プロパティ名を変数に代入してからプロパティにアクセスする
          <a
            href="https://editor.p5js.org/p5nyan/sketches/E4EK1CQdi"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <p>
        コンソールでまとめて確認できるよう、print関数の引数を変更しています。コード中のコメントにも書いていますが、print関数で表示したいテキストの中に
        「"」を含む場合は、print関数の引数（文字列）を囲う引用符を「'」にします。
      </p>
      <code
        data-gist-id="30e79bfb7ee755071c5b46b75146ea3d"
        data-gist-highlight-line="1-3, 10, 15"
        data-gist-hide-footer="true"
      ></code>

      <h3>10.2 複雑なオブジェクト</h3>

      <h4 class="caption">
        <span>p.191</span>
        本文のコード
        <a
          href="https://editor.p5js.org/p5nyan/sketches/b9p_e_9zj"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="5c5bb0e44402a9b69a59d39219cb203a"
        data-gist-highlight-line="1-3, 9, 12, 14"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.191-192</span>
          コード10.9 深い入れ子のオブジェクト、<wbr />コード10.10
          プロパティを途中で変数に代入
          <a
            href="https://editor.p5js.org/p5nyan/sketches/d-AfY3rfc"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <code
        data-gist-id="51904030328a582816621ac66834ebaf"
        data-gist-highlight-line="1-3, 19, 30"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.192</span>
        コード10.11 配列を含むオブジェクト、<wbr />コード10.12
        プロパティの配列とfor...of文、<wbr />本文のコード
        <a
          href="https://editor.p5js.org/p5nyan/sketches/thiV3ZLnF"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="8c87245cba1e0822614ff62a637d3750"
        data-gist-highlight-line="15, 20-22"
        data-gist-hide-footer="true"
      ></code>

      <h3>10.3 オブジェクトと繰り返し</h3>

      <h4 class="caption">
        <span>p.193</span>
        コード10.13 オブジェクトはfor...of文で繰り返せない
        <a
          href="https://editor.p5js.org/p5nyan/sketches/Ip1zydXkq"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <p>エラーが出ることを確認するためのコードです。</p>
      <code
        data-gist-id="42d1692410831f5ca4029d60fbf61648"
        data-gist-highlight-line="1-3, 9"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.194</span>
        図10.13 ［構文］ for...in文（の例）
        <a
          href="https://editor.p5js.org/p5nyan/sketches/gF7L0PvZz"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="b39e05e90d65b05982273304cbedbdc3"
        data-gist-highlight-line="1-3, 9"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.194</span>
          コード10.14 for...in文を使う、<wbr />コード10.15
          プロパティ名によって分岐する
          <a
            href="https://editor.p5js.org/p5nyan/sketches/FOGtg0Je0"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <p>
        それぞれ個別のfor...in文で記述されていたコード10.14とコード10.15を、ひとつのfor...in文にまとめています。
      </p>
      <code
        data-gist-id="e5ae195848bb676e0b157be0865dc343"
        data-gist-highlight-line="1-3, 12, 25"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.195</span>
          コード10.16 オブジェクトの配列で表した5匹の魚のデータ、<wbr />コード10.17
          オブジェクトの配列の取り出し
          <a
            href="https://editor.p5js.org/p5nyan/sketches/x4IaAqz6p"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <code
        data-gist-id="128f0194f7e173429c1ead0264c7c3e4"
        data-gist-highlight-line="1-3, 12, 19"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <nobr>
          <span>p.196</span>
          コード10.18 重さが20以上の魚だけを表示する、<wbr />コード10.19
          continue文でコード10.18を変更、<wbr />コード10.20
          コード10.19をさらに短く
          <a
            href="https://editor.p5js.org/p5nyan/sketches/w25NW28GQS"
            target="_blank"
            rel="noopener"
            class="p5link"
            >p5.js</a
          >
        </nobr>
      </h4>
      <p>各コードのコメントアウトを付け外しして動作確認してください。</p>
      <code
        data-gist-id="21799d4385fbc5f8a454ba98fabf4c78"
        data-gist-highlight-line="1-11, 21, 35, 45"
        data-gist-hide-footer="true"
      ></code>

      <h3>コラム：分割代入</h3>

      <h4 class="caption">
        <span>p.198コラム</span>
        コードC10.a〜e 分割代入
        <a
          href="https://editor.p5js.org/p5nyan/sketches/g7mt-SVbR"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <p>
        コードC10.a〜C10.cまではコメントアウトを付け外しして動作確認してください。
      </p>
      <code
        data-gist-id="7c886c4bb47af116908c9003e7938eec"
        data-gist-highlight-line="1-3, 8, 11, 15, 19, 23, 29"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.199コラム</span>
        コードC10.f〜g 分割代入
        <a
          href="https://editor.p5js.org/p5nyan/sketches/8m2EaYdMp"
          target="_blank"
          rel="noopener"
          class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="2acb52fb10fad7f1371c2b143dcc757d"
        data-gist-highlight-line="1-4, 8, 18"
        data-gist-hide-footer="true"
      ></code>

      <h2 id="ex">練習問題</h2>

      <p>
        練習問題に挑戦して、本レッスンの内容がどのくらい理解できているか確認してみましょう。
      </p>

      <p>
        <br />
        <mark>/* */</mark>
        でコメントアウトされている部分は問題文なのでコピペしなくても構いませんが、コードに含めておくと参考になります。
      </p>

      <code
        data-gist-id=""
        data-gist-highlight-line=""
        data-gist-hide-footer="true"
      ></code>

      <p class="question">
        このコードを実行すると、下図のように色違いの3匹の魚が描画されます。
      </p>

      <figure>
        <img src="fig/" width="500" />
      </figure>

      <details>
        <summary>解答例（クリックしてね）</summary>
        <p>
          解答 “例”
          なので、まったく同じである必要はありません。与えられた条件のとおり動作すれば、そのコードも正解です。
        </p>
        <code data-gist-id="" data-gist-hide-footer="true"></code>
      </details>
    </main>

    <footer>
      『 はじめての “文字で打ちこむ” プログラミングの本 』 サポートサイト
    </footer>

    <script src="codeNav.js" type="module"></script>
  </body>
</html>
