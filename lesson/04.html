<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>レッスン 04</title>
    <link rel="stylesheet" href="lesson.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&display=swap" rel="stylesheet" />
    <script src="./gist-embed.min.js"></script>
  </head>

  <body>
    <header>
      <h1>レッスン 04</h1>
      <p>〜 変数 〜</p>
    </header>

    <nav class="back">
      <a href="../index.html">🔙</a>
      <a href="#">🔝</a>
    </nav>

    <main>
      <h2>サンプルコード</h2>

      <ul>
        <li>
          サポートサイトでは、<mark>async function draw() { ... }</mark> の中のコードは省略せずにすべて<ruby
            >載<rt>の</rt></ruby
          >せています。
        </li>
        <li>本に載っていない部分には<span class="gray">灰色の背景色</span>を付けています。</li>
        <li>
          2つ目のサンプルコードからは先頭2行のおまじないと
          <mark>function setup() { ... }</mark>
          は省略しますが、みなさんのコードからは消さないでください。
        </li>
        <li>ここに載せているサンプルコードには、コードが読み取りやすいように「空行」を追加しています。</li>
        <li>
          キャプション横の
          <span class="p5link">p5.js</span>
          をクリックするとp5.jsのウェブエディターが開き、プログラムを実行することができます。
        </li>
      </ul>

      <div class="sketchLink" style="width: 50%">
        <a href="https://editor.p5js.org/p5nyan/sketches/fHkjcRuKX" target="_blank" rel="noopener">
          ピゴニャンのスケッチを開く
        </a>
      </div>

      <nav class="codeNav">
        <select id="codeSelect">
          <option value="init" selected disabled>サンプルコードを選ぶ</option>
        </select>
        <label for="codeSelect">▼</label>
      </nav>

      <h3>4.1 変数の宣言と代入</h3>

      <h4 class="caption">
        <span>p.66</span>
        図4.1 同じ値の引数が並ぶ比較コード
        <a href="https://editor.p5js.org/p5nyan/sketches/3B4WHKg0h" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="1ab7f8fab7b01c7dbe222427286de21c"
        data-gist-highlight-line="1-8"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.68</span>
        図4.5 変数を使った比較コード
        <a href="https://editor.p5js.org/p5nyan/sketches/-Z4wsTRI5" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="6cb87efb39b489f11d1c4e7b26cc0037"
        data-gist-highlight-line="1-3, 19"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.69</span>
        図4.8 代入の比較コード
        <a href="https://editor.p5js.org/p5nyan/sketches/KPnNlSEuT" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="2bbafc4091445473bcc3a73a9c8a8d3b"
        data-gist-highlight-line="1-3, 20"
        data-gist-hide-footer="true"
      ></code>

      <h4 class="caption">
        <span>p.71</span>
        本文中のコード
        <a href="https://editor.p5js.org/p5nyan/sketches/MRHP6Jx0f" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code data-gist-id="5e28ca9459ee99fd2731e05ec19d2c17" data-gist-hide-footer="true"></code>

      <h4 class="caption">
        <span>p.71</span>
        コード4.1 変数から変数への代入の例
        <a href="https://editor.p5js.org/p5nyan/sketches/TSTyrH8Nk" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="82c8d8424855e212f1f286191869a3e5"
        data-gist-highlight-line="1-3, 8"
        data-gist-hide-footer="true"
      ></code>

      <h3>4.2 変数名のルールと作法</h3>

      <h4 class="caption">
        <span>p.76</span>
        本文中のコード
        <a href="https://editor.p5js.org/p5nyan/sketches/wZ8HjGJpC" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code
        data-gist-id="ed8ca7b0f281d5c29ec6cbeb69bf74ba"
        data-gist-highlight-line="1-3, 8"
        data-gist-hide-footer="true"
      ></code>

      <h3>4.4 letで宣言しない変数</h3>

      <h4 class="caption">
        <span>p.80</span>
        図4.24 システム関数を使ったコード（とその実行結果）
        <a href="https://editor.p5js.org/p5nyan/sketches/mVX_H5Z4n" target="_blank" rel="noopener" class="p5link"
          >p5.js</a
        >
      </h4>
      <code data-gist-id="af932d50be97245c394258a8e42f3872" data-gist-hide-footer="true"></code>

      <h2 id="ex">練習問題</h2>

      <p>次のようなプログラムを作ってみましょう。実行例をまず動かしてみるのがわかりやすいと思います。</p>

      <ol>
        <li>魚を好きな位置に登場させる。</li>
        <li>2秒に1回、魚が20歩ずつ左に動いて、元の場所に新しい魚が現れる。</li>
        <li>魚の色は、青（skyblue／既定値）→オレンジ（orange）→紫（plum）の順とする。</li>
        <li>3匹目の魚が登場したあと、ピゴニャンはキャンバスの高さをしゃべり、同時に最後の魚と同じ色になる。</li>
      </ol>

      <figure class="M">
        <img src="fig/ex04-1.png" width="500" />
      </figure>

      <a
        class="example"
        href="https://editor.p5js.org/p5nyan/full/JWkqqcGcv"
        target="_blank"
        rel="noopener"
        class="p5link"
        >実行例</a
      >

      <p>
        新しい「<a href="https://editor.p5js.org/p5nyan/sketches/fHkjcRuKX" target="_blank" rel="noopener"
          >ピゴニャンのスケッチ</a
        >」を用意して次のコードと置きかえ、<mark>/* */</mark>
        でコメントアウトされた部分の指示どおりにコードを編集してください。
      </p>

      <code data-gist-id="86c9dee3ceb53b9b9e8785027067cce6" data-gist-hide-footer="true"></code>

      <p>ヒントは次のとおり</p>
      <ul>
        <li>宣言した変数はコードの中で何度でも使えます。</li>
        <li>
          変数の宣言は 「<mark>let 変数名 = 初期値;</mark>」、変数への代入は 「<mark>変数名 = 値;</mark>」でした。
        </li>
        <li>宣言せずに最初から使えるシステム変数の中には、キャンバスの幅や高さの値を持っているものがありましたね。</li>
      </ul>

      <details>
        <summary>解答例（クリックしてね）</summary>
        <p>
          解答 “例” なので、まったく同じである必要はありません。与えられた条件のとおり動作すれば、そのコードも正解です。
        </p>
        <code data-gist-id="898f4d60ed46aaa18ab96fc3dcbefc68" data-gist-hide-footer="true"></code>
      </details>
    </main>

    <footer>『 はじめての “文字で打ちこむ” プログラミングの本 』 サポートサイト</footer>

    <script src="codeNav.js" type="module"></script>
  </body>
</html>
